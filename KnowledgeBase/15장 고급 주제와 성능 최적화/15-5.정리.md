# 📝 정리
- JPA의 예외는 트랜잭션 롤백을 표시하는 예외와 표시하지 않는 예외로 나눈다.   
트랜잭션을 롤백하는 예외는 심각한 예외이므로 트랜잭션을 강제로 커밋해도 커밋되지 않고 롤백한다.

- 스프링 프레임워크는 JPA의 예외를 스프링 프레임워크가 추상화한 예외로 변환해준다.

- 같은 영속성 컨텍스트의 엔티티를 비교할 때는 동등성 비교를 할 수 있지만 영속성 컨텍스트가 다르면 동일성 비교를 해야 한다.   
하지만 프록시는 기술적인 한계가 있으므로 한계점을 인식하고 사용해야 한다.

- JPA를 사용할 때는 N+1 문제를 가장 조심해야 한다.   
N+1 문제는 주로 페치 조인을 사용해서 해결한다.

- 엔티티를 읽기 전용으로 조회하면 스냅샷을 유지할 필요가 없고 영속성 컨텍스트를 플러시하지 않아도 된다.

- 대량의 엔티티를 배치 처리하려면 적절한 시점에 꼭 플러시를 호출하고 영속성 컨텍스트도 초기화해야 한다.

- JPA는 SQL 쿼리 힌트를 지원하지 않지만 하이버네이트 구현체를 사용하면 SQL 쿼리 힌트를 사용할 수 있다.

- 트랜잭션을 지원하는 쓰기 지연 덕분에 SQL 배치 기능을 사용할 수 있다.